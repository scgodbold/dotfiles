# Change the prefix
set -g prefix C-a
unbind C-b
bind C-a send-prefix

# Vi-style movement
# setw -g mode-keys vi
# bind h select-pane -L
# bind j select-pane -D
# bind k select-pane -U
# bind l select-pane -R
is_vim='echo "#{pane_current_command}" | grep -iqE "(^|\/)g?(view|n?vim?x?)(diff)?$"'
bind -n C-h if-shell "$is_vim" "send-keys C-h" "select-pane -L"
bind -n C-j if-shell "$is_vim" "send-keys C-j" "select-pane -D"
bind -n C-k if-shell "$is_vim" "send-keys C-k" "select-pane -U"
bind -n C-l if-shell "$is_vim" "send-keys C-l" "select-pane -R"
bind -n C-\ if-shell "$is_vim" "send-keys C-\\" "select-pane -l"

#
# Vi copy mode
set-option -g status-keys vi
set-window-option -g mode-keys vi
#
# Selection same as vim
bind-key -t vi-copy v begin-selection
bind-key -t vi-copy y copy-pipe "xclip -selection clipboard -i"
# In urxvt paste is funky, the above ^ goes to middle click buffer
# however the system C-c goes to shift+insert....

# resize panes with vim movements
bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5

# more intuitive vertical splitting
bind \ split-window -h
bind - split-window -v

# Screen-style last-window stuff
bind C-a last-window

# Mouse
# Makes the Mouse more useful
setw -g mode-mouse on

#Allow mouse to select which pane to use
set -g mouse-select-pane on

# Disable auto rename to allow for manual naming
set-option -g allow-rename off

# This is a test
bind-key & killw

# Color dat bish
# default statusbar colors
set-option -g status-bg colour235 #base02
set-option -g status-fg colour130 #yellow
set-option -g status-attr default

# # default window title colors
set-window-option -g window-status-fg colour33 #base0
set-window-option -g window-status-bg default
#set-window-option -g window-status-attr dim

# # active window title colors
set-window-option -g window-status-current-fg colour196 #orange
set-window-option -g window-status-current-bg default
#set-window-option -g window-status-current-attr bright

# # pane border
set-option -g pane-border-fg colour130 #base02
set-option -g pane-active-border-fg colour130 #base01

# # message text
set-option -g message-bg colour235 #base02
set-option -g message-fg colour196 #orange

# # pane number display
set-option -g display-panes-active-colour colour20 #blue
set-option -g display-panes-colour colour196 #orange


# tmux plugin manager and plugins
# List of plugins
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'tmux-plugins/tmux-online-status'

# Set status bars
set -g @online_icon "ok"
set -g @offline_icon "offline!"
set -g status-right "Online: #{online_status} | %a %h-%d %H-%M"
